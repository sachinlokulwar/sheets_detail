"use strict";angular.module("csvRowsApp",["ngCookies","ngRoute","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]),angular.module("csvRowsApp").controller("MainCtrl",["$scope",function(a){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.sheet={filenames:[]},a.uploadFiles=function(b){var c,d=b.files;for(c=0;c<d.length;c++){var e={fileDetail:{}};e.fileDetail.name=d[c].name,e.fileDetail.size=d[c].size,e.fileDetail.sheets=[];var f=new FileReader;f.onload=function(b){console.log(b,d[c]);var f=b.target.result,g=XLSX.read(f,{type:"binary"}),h=[];g.SheetNames.forEach(function(a){var b={},c=XLS.utils.sheet_to_row_object_array(g.Sheets[a]);b.sheetName=a,b.rowCount=c.length,h.push(b)}),console.log(h),e.fileDetail.sheets=h,console.log(e.fileDetail),a.sheet.filenames.push(e.fileDetail),a.$apply()},f.readAsBinaryString(d[c])}a.files=d},a.test=function(){console.log(a.sheet.filenames)}}]),angular.module("csvRowsApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("csvRowsApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div class="jumbotron"> <div> <input type="file" onchange="angular.element(this).scope().uploadFiles(this)" multiple> <ul> <li ng-repeat="file in sheet.filenames track by $index"> <span style="font-size:20px">{{file.name}}</span> <ul> <li ng-repeat="sheet in file.sheets track by $index"> <span style="font:20px">{{sheet.sheetName}}</span><span style="margin-left:40px"> {{sheet.rowCount}}</span> </li> </ul> </li> </ul> <button ng-click="test()">PRINT</button> </div> </div>')}]);